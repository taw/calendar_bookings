require 'rails_helper'

RSpec.describe Room, type: :model do
  it do
    # Stupid brute force test
    examples = [
      ["2017-01-01", "2017-01-01", "2017-01-01", "2017-01-01", false],
      ["2017-01-01", "2017-01-01", "2017-01-01", "2017-01-02", false],
      ["2017-01-01", "2017-01-01", "2017-01-01", "2017-01-03", false],
      ["2017-01-01", "2017-01-01", "2017-01-01", "2017-01-04", false],
      ["2017-01-01", "2017-01-01", "2017-01-01", "2017-01-05", false],
      ["2017-01-01", "2017-01-01", "2017-01-01", "2017-01-06", false],
      ["2017-01-01", "2017-01-02", "2017-01-01", "2017-01-02", false],
      ["2017-01-01", "2017-01-02", "2017-01-01", "2017-01-03", false],
      ["2017-01-01", "2017-01-02", "2017-01-01", "2017-01-04", false],
      ["2017-01-01", "2017-01-02", "2017-01-01", "2017-01-05", false],
      ["2017-01-01", "2017-01-02", "2017-01-01", "2017-01-06", false],
      ["2017-01-01", "2017-01-03", "2017-01-01", "2017-01-03", false],
      ["2017-01-01", "2017-01-03", "2017-01-01", "2017-01-04", false],
      ["2017-01-01", "2017-01-03", "2017-01-01", "2017-01-05", false],
      ["2017-01-01", "2017-01-03", "2017-01-01", "2017-01-06", false],
      ["2017-01-01", "2017-01-04", "2017-01-01", "2017-01-04", false],
      ["2017-01-01", "2017-01-04", "2017-01-01", "2017-01-05", false],
      ["2017-01-01", "2017-01-04", "2017-01-01", "2017-01-06", false],
      ["2017-01-01", "2017-01-05", "2017-01-01", "2017-01-05", false],
      ["2017-01-01", "2017-01-05", "2017-01-01", "2017-01-06", false],
      ["2017-01-01", "2017-01-06", "2017-01-01", "2017-01-06", false],
      ["2017-01-01", "2017-01-01", "2017-01-02", "2017-01-01", false],
      ["2017-01-01", "2017-01-01", "2017-01-02", "2017-01-02", false],
      ["2017-01-01", "2017-01-01", "2017-01-02", "2017-01-03", false],
      ["2017-01-01", "2017-01-01", "2017-01-02", "2017-01-04", false],
      ["2017-01-01", "2017-01-01", "2017-01-02", "2017-01-05", false],
      ["2017-01-01", "2017-01-01", "2017-01-02", "2017-01-06", false],
      ["2017-01-01", "2017-01-02", "2017-01-02", "2017-01-02", false],
      ["2017-01-01", "2017-01-02", "2017-01-02", "2017-01-03", false],
      ["2017-01-01", "2017-01-02", "2017-01-02", "2017-01-04", false],
      ["2017-01-01", "2017-01-02", "2017-01-02", "2017-01-05", false],
      ["2017-01-01", "2017-01-02", "2017-01-02", "2017-01-06", false],
      ["2017-01-01", "2017-01-03", "2017-01-02", "2017-01-03", false],
      ["2017-01-01", "2017-01-03", "2017-01-02", "2017-01-04", false],
      ["2017-01-01", "2017-01-03", "2017-01-02", "2017-01-05", false],
      ["2017-01-01", "2017-01-03", "2017-01-02", "2017-01-06", false],
      ["2017-01-01", "2017-01-04", "2017-01-02", "2017-01-04", false],
      ["2017-01-01", "2017-01-04", "2017-01-02", "2017-01-05", false],
      ["2017-01-01", "2017-01-04", "2017-01-02", "2017-01-06", false],
      ["2017-01-01", "2017-01-05", "2017-01-02", "2017-01-05", false],
      ["2017-01-01", "2017-01-05", "2017-01-02", "2017-01-06", false],
      ["2017-01-01", "2017-01-06", "2017-01-02", "2017-01-06", false],
      ["2017-01-01", "2017-01-01", "2017-01-03", "2017-01-01", false],
      ["2017-01-01", "2017-01-01", "2017-01-03", "2017-01-02", false],
      ["2017-01-01", "2017-01-01", "2017-01-03", "2017-01-03", false],
      ["2017-01-01", "2017-01-01", "2017-01-03", "2017-01-04", false],
      ["2017-01-01", "2017-01-01", "2017-01-03", "2017-01-05", false],
      ["2017-01-01", "2017-01-01", "2017-01-03", "2017-01-06", false],
      ["2017-01-01", "2017-01-02", "2017-01-03", "2017-01-02", false],
      ["2017-01-01", "2017-01-02", "2017-01-03", "2017-01-03", false],
      ["2017-01-01", "2017-01-02", "2017-01-03", "2017-01-04", false],
      ["2017-01-01", "2017-01-02", "2017-01-03", "2017-01-05", false],
      ["2017-01-01", "2017-01-02", "2017-01-03", "2017-01-06", false],
      ["2017-01-01", "2017-01-03", "2017-01-03", "2017-01-03", false],
      ["2017-01-01", "2017-01-03", "2017-01-03", "2017-01-04", false],
      ["2017-01-01", "2017-01-03", "2017-01-03", "2017-01-05", false],
      ["2017-01-01", "2017-01-03", "2017-01-03", "2017-01-06", false],
      ["2017-01-01", "2017-01-04", "2017-01-03", "2017-01-04", false],
      ["2017-01-01", "2017-01-04", "2017-01-03", "2017-01-05", false],
      ["2017-01-01", "2017-01-04", "2017-01-03", "2017-01-06", false],
      ["2017-01-01", "2017-01-05", "2017-01-03", "2017-01-05", false],
      ["2017-01-01", "2017-01-05", "2017-01-03", "2017-01-06", false],
      ["2017-01-01", "2017-01-06", "2017-01-03", "2017-01-06", false],
      ["2017-01-01", "2017-01-01", "2017-01-04", "2017-01-01", false],
      ["2017-01-01", "2017-01-01", "2017-01-04", "2017-01-02", false],
      ["2017-01-01", "2017-01-01", "2017-01-04", "2017-01-03", false],
      ["2017-01-01", "2017-01-01", "2017-01-04", "2017-01-04", false],
      ["2017-01-01", "2017-01-01", "2017-01-04", "2017-01-05", false],
      ["2017-01-01", "2017-01-01", "2017-01-04", "2017-01-06", false],
      ["2017-01-01", "2017-01-02", "2017-01-04", "2017-01-02", false],
      ["2017-01-01", "2017-01-02", "2017-01-04", "2017-01-03", false],
      ["2017-01-01", "2017-01-02", "2017-01-04", "2017-01-04", false],
      ["2017-01-01", "2017-01-02", "2017-01-04", "2017-01-05", false],
      ["2017-01-01", "2017-01-02", "2017-01-04", "2017-01-06", false],
      ["2017-01-01", "2017-01-03", "2017-01-04", "2017-01-03", false],
      ["2017-01-01", "2017-01-03", "2017-01-04", "2017-01-04", false],
      ["2017-01-01", "2017-01-03", "2017-01-04", "2017-01-05", false],
      ["2017-01-01", "2017-01-03", "2017-01-04", "2017-01-06", false],
      ["2017-01-01", "2017-01-04", "2017-01-04", "2017-01-04", false],
      ["2017-01-01", "2017-01-04", "2017-01-04", "2017-01-05", false],
      ["2017-01-01", "2017-01-04", "2017-01-04", "2017-01-06", false],
      ["2017-01-01", "2017-01-05", "2017-01-04", "2017-01-05", false],
      ["2017-01-01", "2017-01-05", "2017-01-04", "2017-01-06", false],
      ["2017-01-01", "2017-01-06", "2017-01-04", "2017-01-06", false],
      ["2017-01-01", "2017-01-01", "2017-01-05", "2017-01-01", false],
      ["2017-01-01", "2017-01-01", "2017-01-05", "2017-01-02", false],
      ["2017-01-01", "2017-01-01", "2017-01-05", "2017-01-03", false],
      ["2017-01-01", "2017-01-01", "2017-01-05", "2017-01-04", false],
      ["2017-01-01", "2017-01-01", "2017-01-05", "2017-01-05", false],
      ["2017-01-01", "2017-01-01", "2017-01-05", "2017-01-06", false],
      ["2017-01-01", "2017-01-02", "2017-01-05", "2017-01-02", false],
      ["2017-01-01", "2017-01-02", "2017-01-05", "2017-01-03", false],
      ["2017-01-01", "2017-01-02", "2017-01-05", "2017-01-04", false],
      ["2017-01-01", "2017-01-02", "2017-01-05", "2017-01-05", false],
      ["2017-01-01", "2017-01-02", "2017-01-05", "2017-01-06", false],
      ["2017-01-01", "2017-01-03", "2017-01-05", "2017-01-03", false],
      ["2017-01-01", "2017-01-03", "2017-01-05", "2017-01-04", false],
      ["2017-01-01", "2017-01-03", "2017-01-05", "2017-01-05", false],
      ["2017-01-01", "2017-01-03", "2017-01-05", "2017-01-06", false],
      ["2017-01-01", "2017-01-04", "2017-01-05", "2017-01-04", false],
      ["2017-01-01", "2017-01-04", "2017-01-05", "2017-01-05", false],
      ["2017-01-01", "2017-01-04", "2017-01-05", "2017-01-06", false],
      ["2017-01-01", "2017-01-05", "2017-01-05", "2017-01-05", false],
      ["2017-01-01", "2017-01-05", "2017-01-05", "2017-01-06", false],
      ["2017-01-01", "2017-01-06", "2017-01-05", "2017-01-06", false],
      ["2017-01-01", "2017-01-01", "2017-01-06", "2017-01-01", false],
      ["2017-01-01", "2017-01-01", "2017-01-06", "2017-01-02", false],
      ["2017-01-01", "2017-01-01", "2017-01-06", "2017-01-03", false],
      ["2017-01-01", "2017-01-01", "2017-01-06", "2017-01-04", false],
      ["2017-01-01", "2017-01-01", "2017-01-06", "2017-01-05", false],
      ["2017-01-01", "2017-01-01", "2017-01-06", "2017-01-06", false],
      ["2017-01-01", "2017-01-02", "2017-01-06", "2017-01-02", false],
      ["2017-01-01", "2017-01-02", "2017-01-06", "2017-01-03", false],
      ["2017-01-01", "2017-01-02", "2017-01-06", "2017-01-04", false],
      ["2017-01-01", "2017-01-02", "2017-01-06", "2017-01-05", false],
      ["2017-01-01", "2017-01-02", "2017-01-06", "2017-01-06", false],
      ["2017-01-01", "2017-01-03", "2017-01-06", "2017-01-03", false],
      ["2017-01-01", "2017-01-03", "2017-01-06", "2017-01-04", false],
      ["2017-01-01", "2017-01-03", "2017-01-06", "2017-01-05", false],
      ["2017-01-01", "2017-01-03", "2017-01-06", "2017-01-06", false],
      ["2017-01-01", "2017-01-04", "2017-01-06", "2017-01-04", false],
      ["2017-01-01", "2017-01-04", "2017-01-06", "2017-01-05", false],
      ["2017-01-01", "2017-01-04", "2017-01-06", "2017-01-06", false],
      ["2017-01-01", "2017-01-05", "2017-01-06", "2017-01-05", false],
      ["2017-01-01", "2017-01-05", "2017-01-06", "2017-01-06", false],
      ["2017-01-01", "2017-01-06", "2017-01-06", "2017-01-06", false],
      ["2017-01-02", "2017-01-01", "2017-01-02", "2017-01-01", false],
      ["2017-01-02", "2017-01-01", "2017-01-02", "2017-01-02", true],
      ["2017-01-02", "2017-01-01", "2017-01-02", "2017-01-03", true],
      ["2017-01-02", "2017-01-01", "2017-01-02", "2017-01-04", true],
      ["2017-01-02", "2017-01-01", "2017-01-02", "2017-01-05", true],
      ["2017-01-02", "2017-01-01", "2017-01-02", "2017-01-06", true],
      ["2017-01-02", "2017-01-02", "2017-01-02", "2017-01-02", false],
      ["2017-01-02", "2017-01-02", "2017-01-02", "2017-01-03", false],
      ["2017-01-02", "2017-01-02", "2017-01-02", "2017-01-04", false],
      ["2017-01-02", "2017-01-02", "2017-01-02", "2017-01-05", false],
      ["2017-01-02", "2017-01-02", "2017-01-02", "2017-01-06", false],
      ["2017-01-02", "2017-01-03", "2017-01-02", "2017-01-03", false],
      ["2017-01-02", "2017-01-03", "2017-01-02", "2017-01-04", false],
      ["2017-01-02", "2017-01-03", "2017-01-02", "2017-01-05", false],
      ["2017-01-02", "2017-01-03", "2017-01-02", "2017-01-06", false],
      ["2017-01-02", "2017-01-04", "2017-01-02", "2017-01-04", false],
      ["2017-01-02", "2017-01-04", "2017-01-02", "2017-01-05", false],
      ["2017-01-02", "2017-01-04", "2017-01-02", "2017-01-06", false],
      ["2017-01-02", "2017-01-05", "2017-01-02", "2017-01-05", false],
      ["2017-01-02", "2017-01-05", "2017-01-02", "2017-01-06", false],
      ["2017-01-02", "2017-01-06", "2017-01-02", "2017-01-06", false],
      ["2017-01-02", "2017-01-01", "2017-01-03", "2017-01-01", false],
      ["2017-01-02", "2017-01-01", "2017-01-03", "2017-01-02", true],
      ["2017-01-02", "2017-01-01", "2017-01-03", "2017-01-03", true],
      ["2017-01-02", "2017-01-01", "2017-01-03", "2017-01-04", true],
      ["2017-01-02", "2017-01-01", "2017-01-03", "2017-01-05", true],
      ["2017-01-02", "2017-01-01", "2017-01-03", "2017-01-06", true],
      ["2017-01-02", "2017-01-02", "2017-01-03", "2017-01-02", false],
      ["2017-01-02", "2017-01-02", "2017-01-03", "2017-01-03", false],
      ["2017-01-02", "2017-01-02", "2017-01-03", "2017-01-04", false],
      ["2017-01-02", "2017-01-02", "2017-01-03", "2017-01-05", false],
      ["2017-01-02", "2017-01-02", "2017-01-03", "2017-01-06", false],
      ["2017-01-02", "2017-01-03", "2017-01-03", "2017-01-03", false],
      ["2017-01-02", "2017-01-03", "2017-01-03", "2017-01-04", false],
      ["2017-01-02", "2017-01-03", "2017-01-03", "2017-01-05", false],
      ["2017-01-02", "2017-01-03", "2017-01-03", "2017-01-06", false],
      ["2017-01-02", "2017-01-04", "2017-01-03", "2017-01-04", false],
      ["2017-01-02", "2017-01-04", "2017-01-03", "2017-01-05", false],
      ["2017-01-02", "2017-01-04", "2017-01-03", "2017-01-06", false],
      ["2017-01-02", "2017-01-05", "2017-01-03", "2017-01-05", false],
      ["2017-01-02", "2017-01-05", "2017-01-03", "2017-01-06", false],
      ["2017-01-02", "2017-01-06", "2017-01-03", "2017-01-06", false],
      ["2017-01-02", "2017-01-01", "2017-01-04", "2017-01-01", false],
      ["2017-01-02", "2017-01-01", "2017-01-04", "2017-01-02", true],
      ["2017-01-02", "2017-01-01", "2017-01-04", "2017-01-03", true],
      ["2017-01-02", "2017-01-01", "2017-01-04", "2017-01-04", true],
      ["2017-01-02", "2017-01-01", "2017-01-04", "2017-01-05", true],
      ["2017-01-02", "2017-01-01", "2017-01-04", "2017-01-06", true],
      ["2017-01-02", "2017-01-02", "2017-01-04", "2017-01-02", false],
      ["2017-01-02", "2017-01-02", "2017-01-04", "2017-01-03", false],
      ["2017-01-02", "2017-01-02", "2017-01-04", "2017-01-04", false],
      ["2017-01-02", "2017-01-02", "2017-01-04", "2017-01-05", false],
      ["2017-01-02", "2017-01-02", "2017-01-04", "2017-01-06", false],
      ["2017-01-02", "2017-01-03", "2017-01-04", "2017-01-03", false],
      ["2017-01-02", "2017-01-03", "2017-01-04", "2017-01-04", false],
      ["2017-01-02", "2017-01-03", "2017-01-04", "2017-01-05", false],
      ["2017-01-02", "2017-01-03", "2017-01-04", "2017-01-06", false],
      ["2017-01-02", "2017-01-04", "2017-01-04", "2017-01-04", false],
      ["2017-01-02", "2017-01-04", "2017-01-04", "2017-01-05", false],
      ["2017-01-02", "2017-01-04", "2017-01-04", "2017-01-06", false],
      ["2017-01-02", "2017-01-05", "2017-01-04", "2017-01-05", false],
      ["2017-01-02", "2017-01-05", "2017-01-04", "2017-01-06", false],
      ["2017-01-02", "2017-01-06", "2017-01-04", "2017-01-06", false],
      ["2017-01-02", "2017-01-01", "2017-01-05", "2017-01-01", false],
      ["2017-01-02", "2017-01-01", "2017-01-05", "2017-01-02", true],
      ["2017-01-02", "2017-01-01", "2017-01-05", "2017-01-03", true],
      ["2017-01-02", "2017-01-01", "2017-01-05", "2017-01-04", true],
      ["2017-01-02", "2017-01-01", "2017-01-05", "2017-01-05", true],
      ["2017-01-02", "2017-01-01", "2017-01-05", "2017-01-06", true],
      ["2017-01-02", "2017-01-02", "2017-01-05", "2017-01-02", false],
      ["2017-01-02", "2017-01-02", "2017-01-05", "2017-01-03", false],
      ["2017-01-02", "2017-01-02", "2017-01-05", "2017-01-04", false],
      ["2017-01-02", "2017-01-02", "2017-01-05", "2017-01-05", false],
      ["2017-01-02", "2017-01-02", "2017-01-05", "2017-01-06", false],
      ["2017-01-02", "2017-01-03", "2017-01-05", "2017-01-03", false],
      ["2017-01-02", "2017-01-03", "2017-01-05", "2017-01-04", false],
      ["2017-01-02", "2017-01-03", "2017-01-05", "2017-01-05", false],
      ["2017-01-02", "2017-01-03", "2017-01-05", "2017-01-06", false],
      ["2017-01-02", "2017-01-04", "2017-01-05", "2017-01-04", false],
      ["2017-01-02", "2017-01-04", "2017-01-05", "2017-01-05", false],
      ["2017-01-02", "2017-01-04", "2017-01-05", "2017-01-06", false],
      ["2017-01-02", "2017-01-05", "2017-01-05", "2017-01-05", false],
      ["2017-01-02", "2017-01-05", "2017-01-05", "2017-01-06", false],
      ["2017-01-02", "2017-01-06", "2017-01-05", "2017-01-06", false],
      ["2017-01-02", "2017-01-01", "2017-01-06", "2017-01-01", false],
      ["2017-01-02", "2017-01-01", "2017-01-06", "2017-01-02", true],
      ["2017-01-02", "2017-01-01", "2017-01-06", "2017-01-03", true],
      ["2017-01-02", "2017-01-01", "2017-01-06", "2017-01-04", true],
      ["2017-01-02", "2017-01-01", "2017-01-06", "2017-01-05", true],
      ["2017-01-02", "2017-01-01", "2017-01-06", "2017-01-06", true],
      ["2017-01-02", "2017-01-02", "2017-01-06", "2017-01-02", false],
      ["2017-01-02", "2017-01-02", "2017-01-06", "2017-01-03", false],
      ["2017-01-02", "2017-01-02", "2017-01-06", "2017-01-04", false],
      ["2017-01-02", "2017-01-02", "2017-01-06", "2017-01-05", false],
      ["2017-01-02", "2017-01-02", "2017-01-06", "2017-01-06", false],
      ["2017-01-02", "2017-01-03", "2017-01-06", "2017-01-03", false],
      ["2017-01-02", "2017-01-03", "2017-01-06", "2017-01-04", false],
      ["2017-01-02", "2017-01-03", "2017-01-06", "2017-01-05", false],
      ["2017-01-02", "2017-01-03", "2017-01-06", "2017-01-06", false],
      ["2017-01-02", "2017-01-04", "2017-01-06", "2017-01-04", false],
      ["2017-01-02", "2017-01-04", "2017-01-06", "2017-01-05", false],
      ["2017-01-02", "2017-01-04", "2017-01-06", "2017-01-06", false],
      ["2017-01-02", "2017-01-05", "2017-01-06", "2017-01-05", false],
      ["2017-01-02", "2017-01-05", "2017-01-06", "2017-01-06", false],
      ["2017-01-02", "2017-01-06", "2017-01-06", "2017-01-06", false],
      ["2017-01-03", "2017-01-01", "2017-01-03", "2017-01-01", false],
      ["2017-01-03", "2017-01-01", "2017-01-03", "2017-01-02", true],
      ["2017-01-03", "2017-01-01", "2017-01-03", "2017-01-03", true],
      ["2017-01-03", "2017-01-01", "2017-01-03", "2017-01-04", true],
      ["2017-01-03", "2017-01-01", "2017-01-03", "2017-01-05", true],
      ["2017-01-03", "2017-01-01", "2017-01-03", "2017-01-06", true],
      ["2017-01-03", "2017-01-02", "2017-01-03", "2017-01-02", false],
      ["2017-01-03", "2017-01-02", "2017-01-03", "2017-01-03", true],
      ["2017-01-03", "2017-01-02", "2017-01-03", "2017-01-04", true],
      ["2017-01-03", "2017-01-02", "2017-01-03", "2017-01-05", true],
      ["2017-01-03", "2017-01-02", "2017-01-03", "2017-01-06", true],
      ["2017-01-03", "2017-01-03", "2017-01-03", "2017-01-03", false],
      ["2017-01-03", "2017-01-03", "2017-01-03", "2017-01-04", false],
      ["2017-01-03", "2017-01-03", "2017-01-03", "2017-01-05", false],
      ["2017-01-03", "2017-01-03", "2017-01-03", "2017-01-06", false],
      ["2017-01-03", "2017-01-04", "2017-01-03", "2017-01-04", false],
      ["2017-01-03", "2017-01-04", "2017-01-03", "2017-01-05", false],
      ["2017-01-03", "2017-01-04", "2017-01-03", "2017-01-06", false],
      ["2017-01-03", "2017-01-05", "2017-01-03", "2017-01-05", false],
      ["2017-01-03", "2017-01-05", "2017-01-03", "2017-01-06", false],
      ["2017-01-03", "2017-01-06", "2017-01-03", "2017-01-06", false],
      ["2017-01-03", "2017-01-01", "2017-01-04", "2017-01-01", false],
      ["2017-01-03", "2017-01-01", "2017-01-04", "2017-01-02", true],
      ["2017-01-03", "2017-01-01", "2017-01-04", "2017-01-03", true],
      ["2017-01-03", "2017-01-01", "2017-01-04", "2017-01-04", true],
      ["2017-01-03", "2017-01-01", "2017-01-04", "2017-01-05", true],
      ["2017-01-03", "2017-01-01", "2017-01-04", "2017-01-06", true],
      ["2017-01-03", "2017-01-02", "2017-01-04", "2017-01-02", false],
      ["2017-01-03", "2017-01-02", "2017-01-04", "2017-01-03", true],
      ["2017-01-03", "2017-01-02", "2017-01-04", "2017-01-04", true],
      ["2017-01-03", "2017-01-02", "2017-01-04", "2017-01-05", true],
      ["2017-01-03", "2017-01-02", "2017-01-04", "2017-01-06", true],
      ["2017-01-03", "2017-01-03", "2017-01-04", "2017-01-03", false],
      ["2017-01-03", "2017-01-03", "2017-01-04", "2017-01-04", false],
      ["2017-01-03", "2017-01-03", "2017-01-04", "2017-01-05", false],
      ["2017-01-03", "2017-01-03", "2017-01-04", "2017-01-06", false],
      ["2017-01-03", "2017-01-04", "2017-01-04", "2017-01-04", false],
      ["2017-01-03", "2017-01-04", "2017-01-04", "2017-01-05", false],
      ["2017-01-03", "2017-01-04", "2017-01-04", "2017-01-06", false],
      ["2017-01-03", "2017-01-05", "2017-01-04", "2017-01-05", false],
      ["2017-01-03", "2017-01-05", "2017-01-04", "2017-01-06", false],
      ["2017-01-03", "2017-01-06", "2017-01-04", "2017-01-06", false],
      ["2017-01-03", "2017-01-01", "2017-01-05", "2017-01-01", false],
      ["2017-01-03", "2017-01-01", "2017-01-05", "2017-01-02", true],
      ["2017-01-03", "2017-01-01", "2017-01-05", "2017-01-03", true],
      ["2017-01-03", "2017-01-01", "2017-01-05", "2017-01-04", true],
      ["2017-01-03", "2017-01-01", "2017-01-05", "2017-01-05", true],
      ["2017-01-03", "2017-01-01", "2017-01-05", "2017-01-06", true],
      ["2017-01-03", "2017-01-02", "2017-01-05", "2017-01-02", false],
      ["2017-01-03", "2017-01-02", "2017-01-05", "2017-01-03", true],
      ["2017-01-03", "2017-01-02", "2017-01-05", "2017-01-04", true],
      ["2017-01-03", "2017-01-02", "2017-01-05", "2017-01-05", true],
      ["2017-01-03", "2017-01-02", "2017-01-05", "2017-01-06", true],
      ["2017-01-03", "2017-01-03", "2017-01-05", "2017-01-03", false],
      ["2017-01-03", "2017-01-03", "2017-01-05", "2017-01-04", false],
      ["2017-01-03", "2017-01-03", "2017-01-05", "2017-01-05", false],
      ["2017-01-03", "2017-01-03", "2017-01-05", "2017-01-06", false],
      ["2017-01-03", "2017-01-04", "2017-01-05", "2017-01-04", false],
      ["2017-01-03", "2017-01-04", "2017-01-05", "2017-01-05", false],
      ["2017-01-03", "2017-01-04", "2017-01-05", "2017-01-06", false],
      ["2017-01-03", "2017-01-05", "2017-01-05", "2017-01-05", false],
      ["2017-01-03", "2017-01-05", "2017-01-05", "2017-01-06", false],
      ["2017-01-03", "2017-01-06", "2017-01-05", "2017-01-06", false],
      ["2017-01-03", "2017-01-01", "2017-01-06", "2017-01-01", false],
      ["2017-01-03", "2017-01-01", "2017-01-06", "2017-01-02", true],
      ["2017-01-03", "2017-01-01", "2017-01-06", "2017-01-03", true],
      ["2017-01-03", "2017-01-01", "2017-01-06", "2017-01-04", true],
      ["2017-01-03", "2017-01-01", "2017-01-06", "2017-01-05", true],
      ["2017-01-03", "2017-01-01", "2017-01-06", "2017-01-06", true],
      ["2017-01-03", "2017-01-02", "2017-01-06", "2017-01-02", false],
      ["2017-01-03", "2017-01-02", "2017-01-06", "2017-01-03", true],
      ["2017-01-03", "2017-01-02", "2017-01-06", "2017-01-04", true],
      ["2017-01-03", "2017-01-02", "2017-01-06", "2017-01-05", true],
      ["2017-01-03", "2017-01-02", "2017-01-06", "2017-01-06", true],
      ["2017-01-03", "2017-01-03", "2017-01-06", "2017-01-03", false],
      ["2017-01-03", "2017-01-03", "2017-01-06", "2017-01-04", false],
      ["2017-01-03", "2017-01-03", "2017-01-06", "2017-01-05", false],
      ["2017-01-03", "2017-01-03", "2017-01-06", "2017-01-06", false],
      ["2017-01-03", "2017-01-04", "2017-01-06", "2017-01-04", false],
      ["2017-01-03", "2017-01-04", "2017-01-06", "2017-01-05", false],
      ["2017-01-03", "2017-01-04", "2017-01-06", "2017-01-06", false],
      ["2017-01-03", "2017-01-05", "2017-01-06", "2017-01-05", false],
      ["2017-01-03", "2017-01-05", "2017-01-06", "2017-01-06", false],
      ["2017-01-03", "2017-01-06", "2017-01-06", "2017-01-06", false],
      ["2017-01-04", "2017-01-01", "2017-01-04", "2017-01-01", false],
      ["2017-01-04", "2017-01-01", "2017-01-04", "2017-01-02", true],
      ["2017-01-04", "2017-01-01", "2017-01-04", "2017-01-03", true],
      ["2017-01-04", "2017-01-01", "2017-01-04", "2017-01-04", true],
      ["2017-01-04", "2017-01-01", "2017-01-04", "2017-01-05", true],
      ["2017-01-04", "2017-01-01", "2017-01-04", "2017-01-06", true],
      ["2017-01-04", "2017-01-02", "2017-01-04", "2017-01-02", false],
      ["2017-01-04", "2017-01-02", "2017-01-04", "2017-01-03", true],
      ["2017-01-04", "2017-01-02", "2017-01-04", "2017-01-04", true],
      ["2017-01-04", "2017-01-02", "2017-01-04", "2017-01-05", true],
      ["2017-01-04", "2017-01-02", "2017-01-04", "2017-01-06", true],
      ["2017-01-04", "2017-01-03", "2017-01-04", "2017-01-03", false],
      ["2017-01-04", "2017-01-03", "2017-01-04", "2017-01-04", true],
      ["2017-01-04", "2017-01-03", "2017-01-04", "2017-01-05", true],
      ["2017-01-04", "2017-01-03", "2017-01-04", "2017-01-06", true],
      ["2017-01-04", "2017-01-04", "2017-01-04", "2017-01-04", false],
      ["2017-01-04", "2017-01-04", "2017-01-04", "2017-01-05", false],
      ["2017-01-04", "2017-01-04", "2017-01-04", "2017-01-06", false],
      ["2017-01-04", "2017-01-05", "2017-01-04", "2017-01-05", false],
      ["2017-01-04", "2017-01-05", "2017-01-04", "2017-01-06", false],
      ["2017-01-04", "2017-01-06", "2017-01-04", "2017-01-06", false],
      ["2017-01-04", "2017-01-01", "2017-01-05", "2017-01-01", false],
      ["2017-01-04", "2017-01-01", "2017-01-05", "2017-01-02", true],
      ["2017-01-04", "2017-01-01", "2017-01-05", "2017-01-03", true],
      ["2017-01-04", "2017-01-01", "2017-01-05", "2017-01-04", true],
      ["2017-01-04", "2017-01-01", "2017-01-05", "2017-01-05", true],
      ["2017-01-04", "2017-01-01", "2017-01-05", "2017-01-06", true],
      ["2017-01-04", "2017-01-02", "2017-01-05", "2017-01-02", false],
      ["2017-01-04", "2017-01-02", "2017-01-05", "2017-01-03", true],
      ["2017-01-04", "2017-01-02", "2017-01-05", "2017-01-04", true],
      ["2017-01-04", "2017-01-02", "2017-01-05", "2017-01-05", true],
      ["2017-01-04", "2017-01-02", "2017-01-05", "2017-01-06", true],
      ["2017-01-04", "2017-01-03", "2017-01-05", "2017-01-03", false],
      ["2017-01-04", "2017-01-03", "2017-01-05", "2017-01-04", true],
      ["2017-01-04", "2017-01-03", "2017-01-05", "2017-01-05", true],
      ["2017-01-04", "2017-01-03", "2017-01-05", "2017-01-06", true],
      ["2017-01-04", "2017-01-04", "2017-01-05", "2017-01-04", false],
      ["2017-01-04", "2017-01-04", "2017-01-05", "2017-01-05", false],
      ["2017-01-04", "2017-01-04", "2017-01-05", "2017-01-06", false],
      ["2017-01-04", "2017-01-05", "2017-01-05", "2017-01-05", false],
      ["2017-01-04", "2017-01-05", "2017-01-05", "2017-01-06", false],
      ["2017-01-04", "2017-01-06", "2017-01-05", "2017-01-06", false],
      ["2017-01-04", "2017-01-01", "2017-01-06", "2017-01-01", false],
      ["2017-01-04", "2017-01-01", "2017-01-06", "2017-01-02", true],
      ["2017-01-04", "2017-01-01", "2017-01-06", "2017-01-03", true],
      ["2017-01-04", "2017-01-01", "2017-01-06", "2017-01-04", true],
      ["2017-01-04", "2017-01-01", "2017-01-06", "2017-01-05", true],
      ["2017-01-04", "2017-01-01", "2017-01-06", "2017-01-06", true],
      ["2017-01-04", "2017-01-02", "2017-01-06", "2017-01-02", false],
      ["2017-01-04", "2017-01-02", "2017-01-06", "2017-01-03", true],
      ["2017-01-04", "2017-01-02", "2017-01-06", "2017-01-04", true],
      ["2017-01-04", "2017-01-02", "2017-01-06", "2017-01-05", true],
      ["2017-01-04", "2017-01-02", "2017-01-06", "2017-01-06", true],
      ["2017-01-04", "2017-01-03", "2017-01-06", "2017-01-03", false],
      ["2017-01-04", "2017-01-03", "2017-01-06", "2017-01-04", true],
      ["2017-01-04", "2017-01-03", "2017-01-06", "2017-01-05", true],
      ["2017-01-04", "2017-01-03", "2017-01-06", "2017-01-06", true],
      ["2017-01-04", "2017-01-04", "2017-01-06", "2017-01-04", false],
      ["2017-01-04", "2017-01-04", "2017-01-06", "2017-01-05", false],
      ["2017-01-04", "2017-01-04", "2017-01-06", "2017-01-06", false],
      ["2017-01-04", "2017-01-05", "2017-01-06", "2017-01-05", false],
      ["2017-01-04", "2017-01-05", "2017-01-06", "2017-01-06", false],
      ["2017-01-04", "2017-01-06", "2017-01-06", "2017-01-06", false],
      ["2017-01-05", "2017-01-01", "2017-01-05", "2017-01-01", false],
      ["2017-01-05", "2017-01-01", "2017-01-05", "2017-01-02", true],
      ["2017-01-05", "2017-01-01", "2017-01-05", "2017-01-03", true],
      ["2017-01-05", "2017-01-01", "2017-01-05", "2017-01-04", true],
      ["2017-01-05", "2017-01-01", "2017-01-05", "2017-01-05", true],
      ["2017-01-05", "2017-01-01", "2017-01-05", "2017-01-06", true],
      ["2017-01-05", "2017-01-02", "2017-01-05", "2017-01-02", false],
      ["2017-01-05", "2017-01-02", "2017-01-05", "2017-01-03", true],
      ["2017-01-05", "2017-01-02", "2017-01-05", "2017-01-04", true],
      ["2017-01-05", "2017-01-02", "2017-01-05", "2017-01-05", true],
      ["2017-01-05", "2017-01-02", "2017-01-05", "2017-01-06", true],
      ["2017-01-05", "2017-01-03", "2017-01-05", "2017-01-03", false],
      ["2017-01-05", "2017-01-03", "2017-01-05", "2017-01-04", true],
      ["2017-01-05", "2017-01-03", "2017-01-05", "2017-01-05", true],
      ["2017-01-05", "2017-01-03", "2017-01-05", "2017-01-06", true],
      ["2017-01-05", "2017-01-04", "2017-01-05", "2017-01-04", false],
      ["2017-01-05", "2017-01-04", "2017-01-05", "2017-01-05", true],
      ["2017-01-05", "2017-01-04", "2017-01-05", "2017-01-06", true],
      ["2017-01-05", "2017-01-05", "2017-01-05", "2017-01-05", false],
      ["2017-01-05", "2017-01-05", "2017-01-05", "2017-01-06", false],
      ["2017-01-05", "2017-01-06", "2017-01-05", "2017-01-06", false],
      ["2017-01-05", "2017-01-01", "2017-01-06", "2017-01-01", false],
      ["2017-01-05", "2017-01-01", "2017-01-06", "2017-01-02", true],
      ["2017-01-05", "2017-01-01", "2017-01-06", "2017-01-03", true],
      ["2017-01-05", "2017-01-01", "2017-01-06", "2017-01-04", true],
      ["2017-01-05", "2017-01-01", "2017-01-06", "2017-01-05", true],
      ["2017-01-05", "2017-01-01", "2017-01-06", "2017-01-06", true],
      ["2017-01-05", "2017-01-02", "2017-01-06", "2017-01-02", false],
      ["2017-01-05", "2017-01-02", "2017-01-06", "2017-01-03", true],
      ["2017-01-05", "2017-01-02", "2017-01-06", "2017-01-04", true],
      ["2017-01-05", "2017-01-02", "2017-01-06", "2017-01-05", true],
      ["2017-01-05", "2017-01-02", "2017-01-06", "2017-01-06", true],
      ["2017-01-05", "2017-01-03", "2017-01-06", "2017-01-03", false],
      ["2017-01-05", "2017-01-03", "2017-01-06", "2017-01-04", true],
      ["2017-01-05", "2017-01-03", "2017-01-06", "2017-01-05", true],
      ["2017-01-05", "2017-01-03", "2017-01-06", "2017-01-06", true],
      ["2017-01-05", "2017-01-04", "2017-01-06", "2017-01-04", false],
      ["2017-01-05", "2017-01-04", "2017-01-06", "2017-01-05", true],
      ["2017-01-05", "2017-01-04", "2017-01-06", "2017-01-06", true],
      ["2017-01-05", "2017-01-05", "2017-01-06", "2017-01-05", false],
      ["2017-01-05", "2017-01-05", "2017-01-06", "2017-01-06", false],
      ["2017-01-05", "2017-01-06", "2017-01-06", "2017-01-06", false],
      ["2017-01-06", "2017-01-01", "2017-01-06", "2017-01-01", false],
      ["2017-01-06", "2017-01-01", "2017-01-06", "2017-01-02", true],
      ["2017-01-06", "2017-01-01", "2017-01-06", "2017-01-03", true],
      ["2017-01-06", "2017-01-01", "2017-01-06", "2017-01-04", true],
      ["2017-01-06", "2017-01-01", "2017-01-06", "2017-01-05", true],
      ["2017-01-06", "2017-01-01", "2017-01-06", "2017-01-06", true],
      ["2017-01-06", "2017-01-02", "2017-01-06", "2017-01-02", false],
      ["2017-01-06", "2017-01-02", "2017-01-06", "2017-01-03", true],
      ["2017-01-06", "2017-01-02", "2017-01-06", "2017-01-04", true],
      ["2017-01-06", "2017-01-02", "2017-01-06", "2017-01-05", true],
      ["2017-01-06", "2017-01-02", "2017-01-06", "2017-01-06", true],
      ["2017-01-06", "2017-01-03", "2017-01-06", "2017-01-03", false],
      ["2017-01-06", "2017-01-03", "2017-01-06", "2017-01-04", true],
      ["2017-01-06", "2017-01-03", "2017-01-06", "2017-01-05", true],
      ["2017-01-06", "2017-01-03", "2017-01-06", "2017-01-06", true],
      ["2017-01-06", "2017-01-04", "2017-01-06", "2017-01-04", false],
      ["2017-01-06", "2017-01-04", "2017-01-06", "2017-01-05", true],
      ["2017-01-06", "2017-01-04", "2017-01-06", "2017-01-06", true],
      ["2017-01-06", "2017-01-05", "2017-01-06", "2017-01-05", false],
      ["2017-01-06", "2017-01-05", "2017-01-06", "2017-01-06", true],
      ["2017-01-06", "2017-01-06", "2017-01-06", "2017-01-06", false],
    ]

    examples.each do |s1,s2,e1,e2,r|
      room = Room.create(number: 1, size: 1)
      room.bookings.create(start: s2, end: e2)
      expect(room.vacant?(s1, s2)).to eq(r)
    end

    # dates = (1..6).map{|i| "2017-01-0#{i}" }
    # dates.each do |s1|
    #   dates.each do |e1|
    #     next unless e1 >= s1
    #     dates.each do |s2|
    #       dates.each do |e2|
    #         next unless e2 >= s2
    #         room = Room.create(number: 1, size: 1)
    #         room.bookings.create(start: s2, end: e2)
    #         p [s1, s2, e1, e2, room.vacant?(s1, s2)]
    #       end
    #     end
    #   end
    # end
  end
end
